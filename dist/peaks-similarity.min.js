// peaks-similarity@v1.0.0, MIT licensed. https://github.com/cheminfo-js/peaks-similarity
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r;"undefined"!=typeof window?r=window:"undefined"!=typeof global?r=global:"undefined"!=typeof self&&(r=self),r.peaksSimilarity=t()}}(function(){return function t(r,n,e){function i(f,u){if(!n[f]){if(!r[f]){var a="function"==typeof require&&require;if(!u&&a)return a(f,!0);if(o)return o(f,!0);var s=new Error("Cannot find module '"+f+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[f]={exports:{}};r[f][0].call(c.exports,function(t){var n=r[f][1][t];return i(n?n:t)},c,c.exports,t,r,n,e)}return n[f].exports}for(var o="function"==typeof require&&require,f=0;f<e.length;f++)i(e[f]);return i}({1:[function(t,r){"use strict";r.exports=function(t){function r(r){t=r||{},f(t.widthBottom||y||2,t.widthTop||g||1),u(t.from||m,t.to||x)}function n(t){T=d(t),w=v(T,m,x)}function e(t){q=d(t),b=v(q,m,x)}function i(){return w}function o(){return b}function f(t,r){if(g=r,y=t,M=(y-g)/2,g>y)throw"widthBottom has to be larger than widthTop"}function u(t,r){m=t,x=r,w=v(T,m,x),b=v(q,m,x)}function a(t,r,n,e){var i=2/(g+y);if(0===r||0===e)return 0;if(t===n)return Math.min(r,e);var o=Math.abs(t-n);if(o>=y)return 0;if(r===e)return g>=o?((g+y)/2-o)*r*i:y>=o?(y-o)*r/2*(o-g)/(y-g)*i:0;var f=Math.min(r,e),u=Math.max(r,e),a=[[[0,0],[M,f]],[[M,f],[M+g,f]],[[g+M,f],[y,0]]];if(t>n&&r>e||n>t&&e>r)var c=[[o,0],[o+M,u]];else var c=[[o+M,u],[o,0]];for(var h=0;3>h;h++){var l=s(a[h],c);if(l)switch(h){case 0:return f-o*l.y/2*i;case 1:return(M*f/(2*u)*f+(g+M-l.x)*f+M*f/2)*i;case 2:return(y-o)*l.y/2*i}}return 0/0}function s(t,r){var n,e,i,o,f=t[0][0],u=t[0][1],a=t[1][0],s=t[1][1],c=r[0][0],h=r[0][1],l=r[1][0],v=r[1][1];n=a-f,e=s-u,i=l-c,o=v-h;var d,p;return d=(-e*(f-c)+n*(u-h))/(-i*e+n*o),p=(i*(u-h)-o*(f-c))/(-i*e+n*o),d>=0&&1>=d&&p>=0&&1>=p?{x:f+p*n,y:u+p*e}:null}function c(){for(var t=[],r=0;r<b.length;r++)t.push([b[r][0],b[r][1]]);for(var n=[],r=0;r<w.length;r++)n.push([w[r][0],w[r][1]]);for(var e=0,i=0,o=0;e<n.length;){var f=n[e][0]-b[i][0];if(Math.abs(f)<y){var u=a(n[e][0],n[e][1],t[i][0],t[i][1],g,y);n[e][1]-=u,t[i][1]-=u,i<b.length-1?i++:(e++,i=o)}else f>0&&i<b.length-1?(i++,o=i):(e++,i=o)}return t}function h(t){for(var r=0,n=0;n<t.length;n++)r+=Math.abs(t[n][1]);return 1-r}function l(t){for(var r=0,n=0;n<t.length;n++)r+=t[n][1];for(var n=0;n<t.length;n++)t[n][1]/=r}function v(t,r,n){if(t instanceof Array){for(var e=[],i=0,o=0;o<t.length;o++)(!r||t[o][0]>=r)&&(!n||t[o][0]<=n)&&(e[i++]=[t[o][0],t[o][1]]);return l(e),e}}function d(t){if(t.constructor===Array&&t[0].constructor===Array&&2===t[0].length)return t;for(var r=t[0],n=t[1],e=[],i=0;i<r.length;i++)e.push([r[i],n[i]]);return e}function p(t,r){t&&n(t),r&&e(r);var f={};return f.diff=c(),f.extract1=i(),f.extract2=o(),f.similarity=h(f.diff),f}var g,y,m,x,w,b,M;r(t);var T=[],q=[];this.setPeaks1=n,this.setPeaks2=e,this.getExtract1=i,this.getExtract2=o,this.setFromTo=u,this.setOptions=r,this.setTrapezoid=f,this.getSimilarity=p}},{}]},{},[1])(1)});
//# sourceMappingURL=peaks-similarity.min.js.map