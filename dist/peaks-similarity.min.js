// peaks-similarity@v1.0.1, MIT licensed. https://github.com/cheminfo-js/peaks-similarity
!function(r){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.peaksSimilarity=r()}}(function(){return function r(t,e,n){function i(f,a){if(!e[f]){if(!t[f]){var u="function"==typeof require&&require;if(!a&&u)return u(f,!0);if(o)return o(f,!0);var s=new Error("Cannot find module '"+f+"'");throw s.code="MODULE_NOT_FOUND",s}var h=e[f]={exports:{}};t[f][0].call(h.exports,function(r){var e=t[f][1][r];return i(e?e:r)},h,h.exports,r,t,e,n)}return e[f].exports}for(var o="function"==typeof require&&require,f=0;f<n.length;f++)i(n[f]);return i}({1:[function(r,t){"use strict";function e(r,t){var e,n,i,o,f=r[0][0],a=r[0][1],u=r[1][0],s=r[1][1],h=t[0][0],c=t[0][1],l=t[1][0],v=t[1][1];e=u-f,n=s-a,i=l-h,o=v-c;var d,p;return d=(-n*(f-h)+e*(a-c))/(-i*n+e*o),p=(i*(a-c)-o*(f-h))/(-i*n+e*o),d>=0&&1>=d&&p>=0&&1>=p?{x:f+p*e,y:a+p*n}:null}function n(r){for(var t=0,e=0;e<r.length;e++)t+=r[e][1];for(var e=0;e<r.length;e++)r[e][1]/=t}function i(r,t,e){if(Array.isArray(r)){for(var i=[],o=0,f=0;f<r.length;f++)(!t||r[f][0]>=t)&&(!e||r[f][0]<=e)&&(i[o++]=[r[f][0],r[f][1]]);return n(i),i}}function o(r){for(var t=0,e=0;e<r.length;e++)t+=Math.abs(r[e][1]);return 1-t}t.exports=function(r){function t(t){r=t||{},s(r.widthBottom||y||2,r.widthTop||p||1),h(r.from||g,r.to||m)}function n(r){M=v(r),x=i(M,g,m)}function f(r){A=v(r),w=i(A,g,m)}function a(){return x}function u(){return w}function s(r,t){if(p=t,y=r,b=(y-p)/2,p>y)throw"widthBottom has to be larger than widthTop"}function h(r,t){g=r,m=t,x=i(M,g,m),w=i(A,g,m)}function c(r,t,n,i){var o=2/(p+y);if(0===t||0===i)return 0;if(r===n)return Math.min(t,i);var f=Math.abs(r-n);if(f>=y)return 0;if(t===i)return p>=f?((p+y)/2-f)*t*o:y>=f?(y-f)*t/2*(f-p)/(y-p)*o:0;var a=Math.min(t,i),u=Math.max(t,i),s=[[[0,0],[b,a]],[[b,a],[b+p,a]],[[p+b,a],[y,0]]];if(r>n&&t>i||n>r&&i>t)var h=[[f,0],[f+b,u]];else var h=[[f+b,u],[f,0]];for(var c=0;3>c;c++){var l=e(s[c],h);if(l)switch(c){case 0:return a-f*l.y/2*o;case 1:return(b*a/(2*u)*a+(p+b-l.x)*a+b*a/2)*o;case 2:return(y-f)*l.y/2*o}}return 0/0}function l(){for(var r=[],t=0;t<w.length;t++)r.push([w[t][0],w[t][1]]);for(var e=[],t=0;t<x.length;t++)e.push([x[t][0],x[t][1]]);for(var n=0,i=0,o=0;n<e.length;){var f=e[n][0]-w[i][0];if(Math.abs(f)<y){var a=c(e[n][0],e[n][1],r[i][0],r[i][1],p,y);e[n][1]-=a,r[i][1]-=a,i<w.length-1?i++:(n++,i=o)}else f>0&&i<w.length-1?(i++,o=i):(n++,i=o)}return r}function v(r){if(Array.isArray(r)&&Array.isArray(r[0])&&2===r[0].length)return r;for(var t=r[0],e=r[1],n=[],i=0;i<t.length;i++)n.push([t[i],e[i]]);return n}function d(r,t){r&&n(r),t&&f(t);var e={};return e.diff=l(),e.extract1=a(),e.extract2=u(),e.similarity=o(e.diff),e}var p,y,g,m,x,w,b;t(r);var M=[],A=[];this.setPeaks1=n,this.setPeaks2=f,this.getExtract1=a,this.getExtract2=u,this.setFromTo=h,this.setOptions=t,this.setTrapezoid=s,this.getSimilarity=d}},{}]},{},[1])(1)});
//# sourceMappingURL=peaks-similarity.min.js.map